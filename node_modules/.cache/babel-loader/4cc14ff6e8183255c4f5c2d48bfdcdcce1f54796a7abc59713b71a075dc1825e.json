{"ast":null,"code":"var _jsxFileName = \"F:\\\\My files\\\\ReactProjects\\\\PhoneBook - Copy\\\\src\\\\components\\\\AutoSelfie.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport Webcam from 'react-webcam';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AutoSelfie = () => {\n  _s();\n  const webcamRef = useRef(null);\n  const [cameraReady, setCameraReady] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  useEffect(() => {\n    if (cameraReady) {\n      const timer = setTimeout(() => {\n        captureAndSend();\n      }, 1500); // Wait 1.5 seconds before capturing\n      return () => clearTimeout(timer);\n    }\n  }, [cameraReady]);\n  const captureAndSend = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n    try {\n      await fetch('http://localhost:3001/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          image: imageSrc\n        })\n      });\n      setSubmitted(true);\n    } catch (error) {\n      console.error('‚ùå Error uploading selfie:', error);\n    }\n  };\n  const videoConstraints = {\n    width: 640,\n    height: 480,\n    facingMode: 'user' // front-facing camera\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '40px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCF8 Taking Your Selfie Automatically...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), !submitted ? /*#__PURE__*/_jsxDEV(Webcam, {\n      ref: webcamRef,\n      audio: false,\n      screenshotFormat: \"image/jpeg\",\n      videoConstraints: {\n        width: 640,\n        height: 480,\n        facingMode: 'user'\n      },\n      onUserMedia: () => {\n        console.log(\"‚úÖ Camera ready\");\n        setCameraReady(true);\n      },\n      onUserMediaError: err => {\n        console.error(\"‚ùå Camera error\", err);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u2705 Selfie sent successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(AutoSelfie, \"+3/KaAe62GFPxGuPCMenIs5cv0U=\");\n_c = AutoSelfie;\nexport default AutoSelfie;\nvar _c;\n$RefreshReg$(_c, \"AutoSelfie\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Webcam","jsxDEV","_jsxDEV","AutoSelfie","_s","webcamRef","cameraReady","setCameraReady","submitted","setSubmitted","timer","setTimeout","captureAndSend","clearTimeout","imageSrc","current","getScreenshot","fetch","method","headers","body","JSON","stringify","image","error","console","videoConstraints","width","height","facingMode","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","audio","screenshotFormat","onUserMedia","log","onUserMediaError","err","_c","$RefreshReg$"],"sources":["F:/My files/ReactProjects/PhoneBook - Copy/src/components/AutoSelfie.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport Webcam from 'react-webcam';\r\n\r\nconst AutoSelfie = () => {\r\n  const webcamRef = useRef(null);\r\n  const [cameraReady, setCameraReady] = useState(false);\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (cameraReady) {\r\n      const timer = setTimeout(() => {\r\n        captureAndSend();\r\n      }, 1500); // Wait 1.5 seconds before capturing\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [cameraReady]);\r\n\r\n  const captureAndSend = async () => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    if (!imageSrc) return;\r\n\r\n    try {\r\n      await fetch('http://localhost:3001/upload', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ image: imageSrc }),\r\n      });\r\n\r\n      setSubmitted(true);\r\n    } catch (error) {\r\n      console.error('‚ùå Error uploading selfie:', error);\r\n    }\r\n  };\r\n\r\n  const videoConstraints = {\r\n    width: 640,\r\n    height: 480,\r\n    facingMode: 'user', // front-facing camera\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', padding: '40px' }}>\r\n      <h2>üì∏ Taking Your Selfie Automatically...</h2>\r\n\r\n      {!submitted ? (\r\n        <Webcam\r\n          ref={webcamRef}\r\n          audio={false}\r\n          screenshotFormat=\"image/jpeg\"\r\n          videoConstraints={{ width: 640, height: 480, facingMode: 'user' }}\r\n          onUserMedia={() => {\r\n            console.log(\"‚úÖ Camera ready\");\r\n            setCameraReady(true);\r\n          }}\r\n          onUserMediaError={(err) => {\r\n            console.error(\"‚ùå Camera error\", err);\r\n          }}\r\n        />\r\n\r\n      ) : (\r\n        <h3>‚úÖ Selfie sent successfully!</h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoSelfie;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}